<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../static/css/dashboard.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <!-- JavaScript Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
    crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="../static/js/remark.js"></script>
  <title>Dashboard</title>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid d-flex flex-row-reverse">
      <a class="navbar-brand" href="/auth/logout/">Logout</a>
    </div>
  </nav>
  <div class="sidenav">
    <a href="/" class="current">Home</a>
    <a href="/accounts">Accounts</a>
    <a href="/analytics">Analytics</a>
    <a href="/taxes">Taxes</a>
    <a href="/help">Help</a>
    <a href="/profile">Profile</a>
  </div>
  <div class="main">
    <div class="month-dropdown float-end">
      <select class="form-select" id="periodSelector" onchange="changePeriod(this.value)" style="width:auto;">
        <option value="Choose Month">Choose Month</option>
        <option value="2022-01-31">January</option>
        <option value="2022-02-28">February</option>
        <option value="2022-03-31">March</option>
        <option value="2022-04-30">April</option>
        <option value="2022-05-31">May</option>
        <option value="2022-06-30">June</option>
      </select>
    </div>
    {% if user.is_authenticated %}
    <br><h2>Welcome {{ user.first_name }} {{ user.last_name }}</h2><br>
    {% endif %}
    <div class="accordion" id="accordionExample">
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingOne">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
            Your books for the month of July is cooked and ready to be served.
          </button>
        </h2>
        <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
          data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <ul class="list-group" id="status_list">
              <li class="list-group-item active">Level 1 - Month yet to be completed</li>
              <li class="list-group-item active">Level 2 - Document Submitted</li>
              <li class="list-group-item">Level 3 - Accounting Completed, Pending review</li>
              <li class="list-group-item">Level 4 - Review done, pending Actionables</li>
              <li class="list-group-item">Level 5 - Actionables closed, Accounts ready to be dispatched</li>
              <li class="list-group-item">Level 6 - Accounts dispatched</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingTwo">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
            Pending Actionables from your end for this month
          </button>
        </h2>
        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
          data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Pending Points</th>
                  <th scope="col">Client Remarks</th>
                  <th scope="col">Status</th>
                  <th scope="col"></th>
                </tr>
              </thead>
              <tbody>
                {% for point in pending_points %}
                <tr>
                  <th scope="row">{{ forloop.counter }}</th>
                  <td>{{point.point}}</td>
                  <td>
                    <div class="input-group">
                      <input type="text" class="form-control" value="{{point.clientRemarks}}"
                        id="actionRemark{{point.pk}}"></input>
                    </div>
                  </td>
                  <td>
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" 
                      {% if point.status %} checked {% endif %} disabled>
                    </div>
                  </td>
                  <td>
                    <button type="submit" class="btn btn-primary" onClick="add_actionable_remark({{point.pk}})">
                      Add
                    </button>
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingThree">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
            Things to watch out this month
          </button>
        </h2>
        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
          data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <ul class="list-group list-group-numbered list-group-flush">
              {% for point in watch_out_points %}
              <li class="list-group-item">{{point.point}}</li>
              {% endfor %}
            </ul>
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <h2 class="accordion-header" id="headingFour">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
            Statutory Compliances Due Dates for this Month
          </button>
        </h2>
        <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
          data-bs-parent="#accordionExample">
          <div class="accordion-body">
            <h3>Will Be Updated Soon</h3>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

</html>