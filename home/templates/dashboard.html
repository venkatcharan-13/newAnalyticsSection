{% extends 'base.html' %}

{% block title %} Dashboard {% endblock title %}
{% block current1 %} current {% endblock current1 %}

{% block content %}
<br>
<div>
  <form action="" class="form">
    <input type="month" name="date" id="periodSelector" onchange="changePeriod(this.value)">
  </form>
</div>
<div id="notification_box">

<br></div>
<br>
<div class="accordion" id="accordionExample">
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingOne">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
        aria-expanded="true" aria-controls="collapseOne">
        Your books for the month of July is cooked and ready to be served.
      </button>
    </h2>
    <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
      data-bs-parent="#accordionExample">
      <div class="accordion-body">
        <ul class="list-group" id="status_list">

        </ul>
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingTwo">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo"
        aria-expanded="false" aria-controls="collapseTwo">
        Pending Actionables from your end for this month
      </button>
    </h2>
    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
      data-bs-parent="#accordionExample">
      <div class="accordion-body">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Pending Points</th>
              <th scope="col">Client Remarks</th>
              <th scope="col">Status</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody id="pending_actionables">

          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingThree">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree"
        aria-expanded="false" aria-controls="collapseThree">
        Things to watch out this month
      </button>
    </h2>
    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
      data-bs-parent="#accordionExample">
      <div class="accordion-body">
        <ul class="list-group list-group-numbered list-group-flush" id="watchout_points">
        </ul>
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingFour">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour"
        aria-expanded="false" aria-controls="collapseFour">
        Statutory Compliances Due Dates for this Month
      </button>
    </h2>
    <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
      data-bs-parent="#accordionExample">
      <div class="accordion-body">
        <table class="table table-warning">
          <thead>
            <tr>
              <th style="width: 40%;"></th>
              <th style="width: 15%;">Current month due date</th>
              <th style="width: 15%;">Status</th>
              <th style="width: 15%;">Last month Status</th>
              <th style="width: 15%;">Last month Completion date</th>
            </tr>
          </thead>
          <tbody id="stat_comp">
            {% for tax_head, compliances in statutory_compliances.items %}
            <tr>
              <th scope="row" colspan="5">{{ tax_head }}</th>
            </tr>
            {% for compliance in compliances %}
            <tr>
              <td scope="row" style="width: 40%;">{{ compliance.compliance }}</td>
              <td style="width: 15%;">{{ compliance.current_month }}</td>
              <td style="width: 15%;">{{ compliance.current_status }}</td>
              <td style="width: 15%;">{{ compliance.last_status }}</td>
              <td style="width: 15%;">{{ compliance.last_month }}</td>
            </tr>
            {% endfor %}
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
<script src="../static/js/dashboard.js"></script>
{% endblock content %}